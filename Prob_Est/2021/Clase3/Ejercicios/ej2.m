% clase 3 ej 2% parte teorica% E[Y] = L/2, distribucion uniforme% E[X|Y] = Y/2, distribution uniforme% Ley de esperanzas iteradas:% E[X] = E[E[X|Y]] = E[Y/2] = E[Y]/2 = L/4

%  ley de varianzas: var[X] = var[E[X|Y]] + E[var[X|Y]]% E[X|Y] = Y/2  (X es una v.a. uniforme entre [0,Y])% Y es una v.a. uniforme [0,L]% var[Y]=(L^2)/12% var[E[X|Y]] = var[Y/2] = (1/4)*var[Y] = (L^2)/48% X|Y es v.a. uniforme [0,Y]% var[X|Y] = (Y^2)/12% E[var[X|Y]] = (1/12)*E[Y^2]% Y^2 tiene pdf 1/(2*sqrt(y*L)), 0<=y<=L% E[Y^2] = (1/(3*sqrt(L)))*L^{3/2}=(1/3)*L^2% E[var[X|Y]]  = (1/36)*L^2% var[X] = 0.048611 * L^2rand("seed",123);% numero de simulacionesN = 10000;X = zeros(N,1);% longitud de la varaL = 1;for i=1:N    %  corto la vara en una posicion aleatoria uniforme [0,1]    Y = L * rand;    % corto lo que queda de la vara en una posicion aleatoria uniforme [0,1]    X(i) = Y * rand;endforX_mean_muestral = mean(X)X_mean_teorica = L/4X_var_muestral = var(X)X_var_teorica = 0.048611 * L^2